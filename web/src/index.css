/* web/src/index.css (replace entire file) */

@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

:root {
  --color-brand-primary: 79 70 229;
  --color-brand-success: 130 202 157;
  --color-brand-warning: 255 198 88;
  --color-brand-danger: 255 128 66;

  --color-surface-light: 243 244 246;
  --color-surface-dark: 17 24 39;
  --color-surface-card: 255 255 255;

  --color-text-default: 31 41 55;
  --color-text-light: 243 244 246;
  --color-text-muted: 107 114 128;
  --color-text-muted-dark: 156 163 175;

  --color-border-light: 229 231 235;
  --color-border-dark: 75 85 99;
}

.dark {
  --color-brand-primary: 129 140 248;
  --color-brand-success: 130 202 157;
  --color-brand-warning: 255 198 88;
  --color-brand-danger: 255 128 66;

  --color-surface-light: 243 244 246;
  --color-surface-dark: 17 24 39;
  --color-surface-card: 31 41 55;

  --color-text-default: 243 244 246;
  --color-text-light: 243 244 246;
  --color-text-muted: 156 163 175;
  --color-text-muted-dark: 156 163 175;

  --color-border-light: 229 231 235;
  --color-border-dark: 75 85 99;
}

@layer base {
  body {
    @apply font-sans text-text dark:text-text-light;
  }
}

@layer components {
  /* Main card style for all panels */
  .card {
    /* Added a larger shadow and a transition for a subtle "lift" on hover */
    @apply bg-surface-card rounded-lg shadow-lg border border-border-light
           dark:border-border-dark
           transition-shadow duration-300 hover:shadow-xl;
  }

  /* Card header used for titles */
  .card-header {
    @apply p-4 border-b border-border-light dark:border-border-dark;
  }

  .card-body {
    @apply p-4;
  }

  /* --- Button Styles --- */
  .btn {
    @apply px-4 py-2 rounded-md font-semibold text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200;
  }
  /* Changed primary color to Indigo for a more refined look */
  .btn-primary {
    @apply bg-brand-primary text-text-light hover:bg-brand-primary/90 focus:ring-brand-primary;
  }
  .btn-secondary {
    @apply bg-surface-light text-text hover:bg-border-light focus:ring-border-light
           dark:bg-border-dark dark:text-text-light dark:hover:bg-border-dark/80;
  }
  .btn-ghost {
    @apply bg-transparent text-text hover:bg-surface-light focus:ring-brand-primary
           dark:text-text-muted-dark dark:hover:bg-border-dark;
  }
  .btn-danger {
    @apply bg-brand-danger text-text hover:bg-brand-danger/90 focus:ring-brand-danger;
  }
  .btn-sm {
    @apply px-2 py-1 text-xs;
  }

  /* --- Form Input Styles --- */
  .form-input {
    /* Changed focus color to match new primary button color */
    @apply block w-full border-border-light rounded-md shadow-sm
           focus:border-brand-primary focus:ring-brand-primary sm:text-sm
           dark:bg-border-dark dark:border-border-dark dark:placeholder-text-muted-dark dark:text-text-light;
  }

  /* --- Table Zebra Striping --- */
  .table-zebra tbody tr:nth-child(even) {
    @apply bg-surface-light dark:bg-border-dark/50;
  }

  /* --- NEW: Color-coded classes for Subtotal rows --- */
  .subtotal-kcal {
    @apply bg-brand-primary/10 text-brand-primary dark:bg-brand-primary/30 dark:text-brand-primary;
  }
  .subtotal-protein {
    @apply bg-brand-success/10 text-brand-success dark:bg-brand-success/30 dark:text-brand-success;
  }
  .subtotal-fat {
    @apply bg-brand-warning/10 text-brand-warning dark:bg-brand-warning/30 dark:text-brand-warning;
  }
  .subtotal-carb {
    @apply bg-brand-danger/10 text-brand-danger dark:bg-brand-danger/30 dark:text-brand-danger;
  }
}
